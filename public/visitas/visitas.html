<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contador de Visitas</title>
    <style>
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            font-size: 14px;
            color: #ffffff;
            text-align: center;
        }
    </style>
</head>

<body>
    <p>Visitas: <span id="contador">0</span></p>

    <script>
        // Generar un identificador único si no existe
        if (!localStorage.getItem('visitorId')) {
            localStorage.setItem('visitorId', Math.random().toString(36).substring(2));
        }

        // Obtener el identificador único
        const visitorId = localStorage.getItem('visitorId');

        // Llamar a la API con el identificador único
        fetch(`https://7ss7rotroe.execute-api.us-east-1.amazonaws.com/prod/ContadorVisitas?visitorId=${visitorId}`)
            .then(response => {
                if (!response.ok) {
                    throw new Error('Error en la solicitud');
                }
                return response.json();
            })
            .then(data => {
                // Mostrar el número de visitas en la página
                document.getElementById('contador').innerText = data.visitas;
            })
            .catch(error => {
                console.error('Error:', error);
                document.getElementById('contador').innerText = 'Error al cargar las visitas';
            });
    </script>
</body>

</html>


<!-- <!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contador de Visitas</title>
</head>

<body>
    <h1>Bienvenido a mi página web</h1>
    <p>Visitas: <span id="contador">0</span></p>

    <script>
        // Generar un identificador único si no existe
        if (!localStorage.getItem('visitorId')) {
            localStorage.setItem('visitorId', Math.random().toString(36).substring(2));
        }

        // Obtener el identificador único
        const visitorId = localStorage.getItem('visitorId');

        // Llamar a la API con el identificador único
        fetch(`https://7ss7rotroe.execute-api.us-east-1.amazonaws.com/prod/ContadorVisitas?visitorId=${visitorId}`)
            .then(response => {
                if (!response.ok) {
                    throw new Error('Error en la solicitud');
                }
                return response.json();
            })
            .then(data => {
                // Mostrar el número de visitas en la página
                document.getElementById('contador').innerText = data.visitas;
            })
            .catch(error => {
                console.error('Error:', error);
                document.getElementById('contador').innerText = 'Error al cargar las visitas';
            });
    </script>
</body>

</html> -->